# JVM详解07-字节码指令集

# 1.字节码指令集概述

官网:https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html;

## 1.1.字节码与数据类型

* Java虚拟机指令集中,大多数的指令都包含了其操作对应的数据类型的信息.例如,`iload`指令用于从局部变量表中记载int型的数据到操作数栈中,而`fload`指令加载的是float类型的数据;

* 对于大部分的数据类型相关的字节码命令,**它们的操作码助记符中都有特殊的字符来表明专门为哪种数据类型服务**;
  * i代表对int类型的数据操作;
  * l代表long;
  * s代表short;
  * b代表byte;
  * c代表char;
  * f代表float;
  * d大表double;

* 也有一些指令的助记符没有明确地指明操作类型的字母,如`arraylength`指令,它没有代表数据类型的特殊字符,但操作数永远是一个数组类型的对象;

* 还有一些指令,如`goto`则与数据类型无关;
* 大部分的指令都没有支持整数byte,char,short,没有任何指令支持boolean,编译器会在编译期或运行期将byte和short类型的数据带符号扩展(Sign-Extend)为相应的int类型数据,将boolean和char类型数据零位扩展(Zero-Extend)为相应的int类型的数据.与其类似,在处理boolean,byte,short和char类型的数组时候,也会转化为int类型的字节码指令处理;

## 1.2.指令的分类

JVM中的字节码指令集按用途大致分为9类;

* 加载与存储指令;
* 算术指令;
* 类型转换指令;
* 对象的创建与访问指令;
* 方法调用与返回指令;
* 操作数栈管理指令;
* 比较控制指令;
* 异常处理指令;
* 同步控制指令;

在做值的相关操作时:

* 一个指令可以从局部变量表,常量池,堆中对象,方法调用,系统调用中等取得数据.这些数据(可能是指,可能是对象的引用)被压入操作数栈;
* 一个指令,也可以从操作数栈中取出一个到多个值(pop多次),完成赋值,计算,方法传参,系统调用等操作;

(占坑,后续更新);

